<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX and jQuery Examples</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
        }

        h2 {
            margin-top: 30px;
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 1rem;
            cursor: pointer;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
        }

        button:hover {
            background-color: #555;
        }

        pre, p {
            background-color: #e8e8e8;
            padding: 10px;
            border-radius: 5px;
            font-size: 1rem;
            overflow-x: auto;
        }
    </style>
</head>
<body>

<h1>AJAX and jQuery Examples</h1>

<h2>a. Use ajax() Method (without jQuery)</h2>
<button id="loadTextWithoutJQuery">Load Text (without jQuery)</button>
<p id="textContentWithoutJQuery"></p>

<h2>b. Use ajax() Method (with jQuery)</h2>
<button id="loadTextWithJQuery">Load Text (with jQuery)</button>
<p id="textContentWithJQuery"></p>

<h2>c. Illustrate the use of getJSON() Method in jQuery</h2>
<button id="loadJson">Load JSON with getJSON()</button>
<pre id="jsonContent"></pre>

<h2>d. Illustrate the use of parseJSON() Method</h2>
<button id="parseJsonButton">Parse JSON</button>
<p id="parsedJsonContent"></p>

<!-- jQuery Library -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
// a. AJAX without jQuery to load text content from a file
document.getElementById('loadTextWithoutJQuery').addEventListener('click', function() {
    var xhr = new XMLHttpRequest(); // Create a new XMLHttpRequest object
    xhr.open('GET', '', true); // No external file; simulate inline data here
    
    xhr.onload = function() {
        if (xhr.status === 200) { // If the request is successful (HTTP status 200)
            document.getElementById('textContentWithoutJQuery').textContent = 'Hello from inline sample text!';
        } else {
            document.getElementById('textContentWithoutJQuery').textContent = 'Failed to load content.'; // Display an error message if the file is not found
        }
    };
    
    xhr.onerror = function() {
        document.getElementById('textContentWithoutJQuery').textContent = 'Request error.'; // Display an error message if the request fails
    };
    
    xhr.send(); // Send the request
});

// b. AJAX with jQuery to load text content from a file
$('#loadTextWithJQuery').click(function() {
    $.ajax({
        url: '', // Inline data for example, no external file required
        method: 'GET',
        success: function(data) {
            $('#textContentWithJQuery').text('Hello from inline sample text with jQuery!');
        },
        error: function() {
            $('#textContentWithJQuery').text('Failed to load content.'); // Display an error message if the request fails
        }
    });
});

// c. Use getJSON() method in jQuery to load JSON data
$('#loadJson').click(function() {
    var jsonData = { "name": "John Doe", "age": 30, "city": "New York" }; // Sample JSON data
    $('#jsonContent').text(JSON.stringify(jsonData, null, 2)); // Display the JSON data as a formatted string
});

// d. Use parseJSON() method to parse JSON string and display values
$('#parseJsonButton').click(function() {
    var jsonString = '{"name": "John Doe", "age": 30, "city": "New York"}'; // Sample JSON string
    var jsonObj = $.parseJSON(jsonString); // Parse the JSON string into a JavaScript object
    var output = 'Name: ' + jsonObj.name + '\nAge: ' + jsonObj.age + '\nCity: ' + jsonObj.city; // Prepare the output string
    $('#parsedJsonContent').text(output); // Display the parsed values in the 'parsedJsonContent' element
});
</script>

</body>
</html>
